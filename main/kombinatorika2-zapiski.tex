\documentclass[a4paper, 12pt]{book}

\usepackage{fancyhdr}

\newcommand{\ttitle}{Kombinatorika 2 - zapiski s predavanj prof. Konvalinke}
\newcommand{\ttitleshort}{Kombinatorika 2}
\newcommand{\tauthor}{Tomaž Poljanšek}
\newcommand{\tdate}{študijsko leto 2023/24}

\usepackage{color}
\usepackage{soul}
\usepackage[numbers]{natbib}

\usepackage{physics}

\usepackage[parfill]{parskip}
\usepackage[hyphens]{url}

\usepackage[usestackEOL]{stackengine}[2013-10-15] % formatting Pascal
\usepackage[dvipsnames]{xcolor}

\usepackage{cancel}
\usepackage[export]{adjustbox}

% Related to math
\usepackage{amsmath,amssymb,amsfonts,amsthm}
\usepackage{mathtools}
\usepackage{youngtab}
\usepackage{tikz}

% encoding and language
\usepackage{lmodern}
\usepackage[slovene, english]{babel}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}

% multiline comments
\usepackage{comment}
\usepackage{verbatim}

% random text - for texting
\usepackage{lipsum}
\usepackage{blindtext}

\usepackage{hyperref}

% dodano
\usepackage{enumitem}
\usepackage{ulem}
\newcommand{\msout}[1]{\text{\sout{\ensuremath{#1}}}}

% images
\usepackage{graphicx}
\graphicspath{ {../images/} }

% no blank page
\usepackage{atbegshi}
\renewcommand{\cleardoublepage}{\clearpage}
%\renewcommand{\clearpage}{}

% theorems
\theoremstyle{definition}
\newtheorem{counter}{Counter}[section]
\newtheorem{defn}[counter]{Definicija}
\newtheorem{lemma}[counter]{Lema}
\newtheorem{conseq}[counter]{Posledica}
\newtheorem{claim}[counter]{Trditev}
\newtheorem{theorem}[counter]{Izrek}
\newtheorem{pro}[counter]{Dokaz}
%%
\theoremstyle{remark}
\newtheorem*{ex}{Primer}
\newtheorem*{exmp}{Zgled}
\newtheorem*{rem}{Opomba}

% QED
\renewcommand\qedsymbol{$\blacksquare$}

\hypersetup{pdftitle={\ttitle}}

\addtolength{\marginparwidth}{-20pt}
\addtolength{\oddsidemargin}{40pt}
\addtolength{\evensidemargin}{-40pt}

\renewcommand{\baselinestretch}{1.3}
\setlength{\headheight}{15pt}
\renewcommand{\chaptermark}[1]
{\markboth{\MakeUppercase{\thechapter.\ #1}}{}} \renewcommand{\sectionmark}[1]
{\markright{\MakeUppercase{\thesection.\ #1}}} \renewcommand{\headrulewidth}{0.5pt} \renewcommand{\footrulewidth}{0pt}

% header
\fancyhf{}
\fancyhead[LE,RO]{\sl \thepage} 
\fancyhead[RE]{\sc \tauthor}
\fancyhead[LO]{\sc \ttitleshort}


\newcommand{\autfont}{\Large}
\newcommand{\titfont}{\LARGE\bf}
\newcommand{\clearemptydoublepage}{\newpage{\pagestyle{empty}\cleardoublepage}}
\setcounter{tocdepth}{1}

\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\F}{\mathbb{F}}
\newcommand{\ch}{\operatorname{char}}

\DeclarePairedDelimiter\ceil{\lceil}{\rceil}
\DeclarePairedDelimiter\floor{\lfloor}{\rfloor}

\usepackage{float}
\usepackage{multirow}
\usepackage{icomma}
\usepackage{tabularx}
\usepackage{hhline}

\title{\ttitle}
\author{\tauthor}
\date{\tdate}

\newcommand\mymaketitle{
  \begin{titlepage}
    \begin{center}
        \vspace*{4cm}
        \Huge
        \textbf{\ttitle}
                        
        \vspace{1.5cm}
        \huge
        \tauthor
            
        \vspace{3cm}
        \Large
        \tdate
    \end{center}
  \end{titlepage}
}




\begin{document}

\selectlanguage{slovene}
\renewcommand{\thepage}{}
\newcommand{\sn}[1]{"`#1"'}

\mymaketitle

\clearpage
%\AtBeginShipoutNext{\AtBeginShipoutDiscard}

\frontmatter

% kazalo
\pagestyle{empty}
\def\thepage{}
\tableofcontents{}

%%
\def\x{\hspace{3ex}}    %BETWEEN TWO 1-DIGIT NUMBERS
\def\y{\hspace{2.45ex}}  %BETWEEN 1 AND 2 DIGIT NUMBERS
\def\z{\hspace{1.9ex}}    %BETWEEN TWO 2-DIGIT NUMBERS
\stackMath

%\clearpage
%\phantomsection

%\section*{Seznam uporabljenih kratic}

%\noindent\begin{tabular}{p{0.1\textwidth}|p{.8\textwidth}}
%  {\bf kratica} & {\bf izraz} \\ \hline
%  {\bf SVM}   & support vector machine (metoda podpornih vektorjev) \\
%\end{tabular}

%\clearpage
%\phantomsection
%\addcontentsline{toc}{chapter}{Povzetek}
%\chapter*{Povzetek}

%Predloga.

\pagenumbering{arabic}

\mainmatter
\setcounter{page}{1}
\pagestyle{fancy}




% 1. predavanje: 3.10.

\chapter{Osnove}


\section{Kako štejemo?}

$S$ končna množica, $|S|$ = ? \\
Pogosto $S_n, n \in \N$. \\
Preštevalno zaporedje $|S_0|, |S_1|, |S_2| \dots$ \\
Kaj je odgovor?

\begin{enumerate}[label=(\arabic{*})]
  \item Formula. \\
    $[n] = \{1, 2 \dots n\}$. \\
    $S_n = 2^{[n]} = P([n])$. \\
    $|S_n| = 2^n$. \\
    $S_n = \{$permutacije n elementov$\}$. \\
    $|S_n| = n! = 1 \cdot 2 \cdots n$ \sn{n fakulteta} \sn{n factorial}. \\
    $S_n = \{$kompozicije n s členi 1 ali 2$\}$, npr. 5 = 1+2+1. \\
    $|S_5| = 8$. \\
    $1, 1, 2, 3, 5, 8 \dots$ \\
    $|S_n| = F_n$ - Fibonaccijevo zaporedje.
  \item Asimptotska formula. \\
    $|S_n| \sim a_n$ (to pomeni $\lim_{n \to \infty} \frac{a_n}{|S_n|} = 1$). \\
    $n! \sim \sqrt{2 \pi n} \left(\frac{n}{e}\right)^n$ - Stirlingova formula. \\
    $F_n \sim \frac{1}{\sqrt{5}} \left(\frac{1+\sqrt{5}}{2}\right)^{n+1}$.
  \item Z rekurzijo. \\
    $S_n = 2^{[n]}$. \\
    $a_n = |S_n|, a_n = 2a_{n-1}; \; n \geq 1, \; a_0 = 1$. \\
    $S_n = \{$kompozicije s členi 1 ali 2$\}$. \\
    $S_n = F_n, F_n = F_{n-1} + F_{n-2}; \; n \geq 2, \; F_0 = F_1 = 1$. \\
    $F_{n-1}$ - kompozicije, ki se končajo z 1, $F_{n-2}$ - končajo z 2.
  \item Z rodovno funkcijo (generating function). \\
    $(a_n)_{n \in \N}$ zaporedje. \\
    $a_0 + a_1 x + a_2 x^2 + \dots = \sum_{n=0}^{\infty} a_n x^n = \sum_n a_n x^n$
      običajna (ordinary) rodovna funkcija - ORF. \\
    $a_n = 2^n$, $\sum_{n=0}^{\infty} 2^n x^n = \frac{1}{1-2x}$. \\
    $\sum_n F_n x^n = \frac{1}{1-x-x^2}$. \\
    $\sum_n n! x^n$ //. \\
    $\sum_n \frac{a_n}{n!} x^n$ eksponentna rodovna funkcija. \\
    $\sum_n 2^n \frac{x^n}{n!} = e^{2x}$. \\
    $\sum_n \frac{n!}{n!} x^n = \frac{1}{1-x}$.
\end{enumerate}
%
(4) je najboljši način, da poznamo zaporedje.

\begin{itemize}[label={--}]
  \item Rodovna funkcija je velikokrat \sn{lepa}, tudi če ni lepe formule za zaporedje. \\
    $i_n \dots$ \# involucij z $n$ elementi ($\pi^2 = $ id). \\
    ni enostavnejše formule za $i_n$. \\
    $\sum_{n=0}^{\infty} \frac{i_n}{n!} x^n = e^{x + \frac{x^2}{2}}$
  \item Do rodovne funkcije lahko pogosto pridemo neposredno s kombinatoričnim premislekom. \\
    Involucija = permutacija s cikli dolžine 1 ali 2. \\
    $\sum F_n x^n = \frac{1}{1-x-x^2};$ $x$ - cikli dolžine 1, $x^2$ - cikli dolžine 2.
  \item V rodovni funkciji so \sn{skrite} (1)-(3).
\end{itemize}


\section{Osnovne Kombinatorične strukture}

$\N = \{0, 1, 2 \dots\}$. \\
$[n] = \{1, 2 \dots n\}$. \\
$2^A = P(A) = \{B \subseteq A\}$. \\
$\binom{A}{k} = \{B \subseteq A: |B| = k\}$ \sn{A nad k} (angl. \sn{A choose k}). \\
$\binom{[4]}{2} = \{\{1,2\}, \{1,3\} \dots \{3,4\}\}$. \\
$Y^X = \{f: X \to Y\}$. \\
Statistika na množici $S$ je preslikava $S \to \N$. \\
$S = 2^A$. \\
Moč je statistika. \\
$S$ končna množica, $f$ statistika na $S$. \\
Pogosto gledamo polinom $\sum_{s \in S} x^{f(s)}$ (enumeration). \\
$|.|$ na $2^{[3]}: 1 + 3 x + 3 x^2 + x^3 = (1+x)^3$. \\
$S_n = \{$permutacije $[n]\} = \{f: [n] \to [n]: f $ bijektivna$\}$. \\
% slikica
%s puščicami \\
$\begin{pmatrix}1 & 2 & 3 \\ 2 & 1 & 3\end{pmatrix}$ - dvovrstična notacija. \\
$2 \; 1 \; 3$ - enovrstična notacija. \\
$(1 \; 2) \msout{(3)}$ - produkt disjunktnih ciklov. \\
$i, \pi(i), \pi^2(i) \dots$ \\
Gotovo $\exists j_1 < j_2: \pi^{j_1}(i) = \pi^{j_2}(i) \implies i = \pi^j(i); \; j > 0$. \\
$(i \; \pi(i) \dots \pi^{j-1}(i))$ cikel. \\
$38241765 = (1 \; 3 \; 2 \; 8 \; 5) (4) (6 \; 7) = (4) (2 \; 8 \; 5 \; 1 \; 3) (7 \; 6)$. \\
Množenje permutacij: kompozicije. \\
Nekomutativno za $n > 2$. \\
Disjunktni cikli komutirajo. \\
Zapis: enoličen do vrstnega reda ciklov in ciklične ureditve ciklov. \\
Cikel dolžine 1 = negibna točka. \\
Cikel dolžine 2 = transpozicija. \\
$(S_n \cdot)$ simetrična grupa. \\
$e = id = 1 \; 2 \dots n$. \\
$\pi^{-1}$ inverz (kot preslikava). \\
$3 \; 8 \; 2 \; 4 \; 1 \; 7 \; 6 \; 5^{-1} = 5 \; 3 \; 1 \; 4 \; 8 \; 7 \; 6 \; 2$. \\
$3 \; 1 \; 4 \; 2 \cdot 4 \; 2 \; 3 \; 1 = 2 \; 1 \; 4 \; 3$ - množimo z desne. \\
Statistika: \# ciklov = $c(\pi)$ (štejemo tudi cikle dolžine 1). \\
$n=3: x^3 + 3 x^2 + 2 x = x(x+1)(x+2)$. \\
$\sum_{\pi \in S_n} x^{c(\pi)} = \sum_k |\{\pi \in S_n: c(\pi) = n\}| x^k$. \\
$|\{\pi \in S_n: c(\pi) = n\}| =: c(n,k)$ - Stirlingovo število 1. vrste. \\
$\sum_{B \subseteq [n]} x^{|B|} = \sum_k |\binom{[n]}{k}| x^k$. \\
$|\binom{[n]}{k}| =: \binom{n}{k}$ - binomski koeficient. \\
%
%
% 2. predavanje: 5.10.
%
Inverzija $\pi \in S_n$ je $(i,j)$, da je za $i < j$ $\pi_i > \pi_j$. \\
$inv(\pi) = $ \# inverzij $\pi$. \\
$inv(4 \; 1 \; 6 \; 2 \; 5 \; 3) = 7$. \\
$0 \leq inv(\pi) \leq \binom{n}{2}$. \\
Signatura permutacije: $(-1)^{inv(\pi)}$. \\
$sg \pi = 1$ - soda permutacija: produkt sodo mnogo transpozicij. \\
$sg \pi = -1$ - liha permutacija: produkt liho mnogo transpozicij. \\
$det A = \sum_{\pi \in S_n} (-1)^{inv(\pi)} a_{1,\pi(1)} \cdots a_{n,\pi(n)}$. \\
Izraz brez $(-1)^{inv(\pi)}$: permanenta. \\
$n=3:$ \\
$1 + 2 x + 2 x^2 + x^3 = 1 + x^2 + x^3 + x + x^2 + x^3 = (1+x)(1+x^2)$. \\
$\sum_{\pi in S_n} x^{inv(\pi)} = 1 \cdot (1+x) (1+x^2) \cdots (1+x^{n-1})$ - kasneje. \\
\# permutacij v $S_n$ s k inverzijami: ni standardne oznake. \\
spust/padec (descent) $i: \pi_i > \pi_{i+1}$. \\
$des(4 \; 1 \; 6 \; 2 \; 5 \; 3) = 3$. \\
$0 \leq des(\pi) \leq n-1$. \\
\# permutacij v $S_n$ s $k-1$ spusti $= A(n,k)$ - Eulersko število ($k-1$ iz zgodovinskih razlogov). \\
$\sum_k A(n,k) x^k = \sum_{\pi \in S_n} x^{1+des(\pi)} = A_n(x)$ - eulerski polinom. \\
$n=3:$ \\
$x + 4x^2 + x^3$. \\
razdelitev/razbitje (angl. set partition) $A$ je $\{B_1, B_2 \dots B_n\}, da velja:$
\begin{itemize}[label={--}]
  \item $B_i \neq \emptyset \; i = 1 \dots k$,
  \item $B_i \cap B_j = \emptyset \; 1 \leq i < j \leq k$,
  \item $\cup_{i=1}^k B_i = A$.
\end{itemize}
$B_i$: bloki razdelitve, \\
\# blokov, \\
\# razdelitev $[n]$ s $k$ bloki $= S(n,k)$ - Stirlingovo število druge vrste. \\
$A = [3] \quad \{\{1\}, \{2\}, \{3\}\}, \{\{1,2\}, \{3\}\} \dots \{\{1,2,3\}\}$. \\
$x + 3 x^2 + x^3$. \\
$S(4,2) = 4 + 3 = 7$. \\
Kompozicija \# n je $\lambda = (\lambda_1 \dots \lambda_l), \lambda_i > 0$ člen kompozicije,
$\lambda_i \in \N, \\
\sum_{i=1}^{l} \lambda_i = n$. \\
$l(\lambda)$ \# členov - dolžina. \\
$\lambda \models n$ - $\lambda$ je kompozicija $n$. \\
Razčlenitev \# n je $\lambda = (\lambda_1 \dots \lambda_l), \lambda_i > 0, \lambda_i \in \N$. \\
$\lambda_1 \geq \lambda_2 \geq \dots \geq \lambda_l, \sum_{i=1}^{l} = n$ \\
(angl. integer partition). \\
$p(n)$ - \# razčlenitev $n$. \\
$p_k(n)$ - \# razčlenitev $n$ s $k$ členi. \\
$n=4:$ \\
$4, 31, 22, 13, 211, 121, 112, 1111$ - 8 kompozicij. \\
$4, 31, 22, 221, 1111$ - 5 razčlenitev. \\
$p(4) = 5, p_2(4) = 2$. \\
$B(n) = \sum_k S(n,k)$ - \# razčlenitev $[n]$, Bellovo število. \\
$B(3) = 5$. \\
$L(n,k)$ - razdelitev $[n]$ na $k$ linearno urejenih blokov. \\
$L(4,2) = 4 \cdot 6 + 3 \cdot 2 \cdot 2 = 36$ - Lahovo število. \\
$E_n =$ \# alternirajočih permutacij v $S_n$ - Eulerjevo število (Euler number). \\
$\pi_1 > \pi_2 < \pi_3 > \pi_4 \dots$ \\
Primerjaj: eulerska števila (eulerian number). \\
$1, 1, 1, 2, 5$. \\
Poti: \\
npr. poti od $(0,0)$ do $(n,m)$ s korakom $(1,0)$ (vzhod) in $(0,1)$ (sever); \\
% skica
npr. poti od $(0,0)$ do $(2n,0)$ s korakoma $(1,1)$ in $(1,-1)$; \\
% skica
npr. poti od $(0,0)$ do $(2n,0)$ s korakoma $(1,1)$ in $(1,-1)$, nikoli pod $x$ osjo - Dyckove poti; \\
% skica
$c_n =$ \# Dyckovih poti dolžine $n$ (konec v $(2n,0)$) - Catalanova števila. \\
$1,1,2,5,14,42 \dots$ \\
Drevesa (povezani aciklični grafi). \\
\# označenih dreves na $n$ vozliščih. \\
% skica
Cayleyev izrek: $n^{n-2}$. \\
Ravninska drevesa. \\
% skica
(Vrstni red pomemben). \\
Dvojiška drevesa: vsako vozlišče ima $2$ ali $0$ naslednikov.
% skica


\section{Osnovna načela preštevanja}

Načelo vsote: $A \cap B = \emptyset \implies |A \cap B| = |A| + |B|$. \\
$i \neq j: A_i \cap A_j = \emptyset \implies |\cup_{i=1}^{n} A_i| = \sum_{i=1}^n |A_i|$. \\
Načelo produkta: $|A \times B| = |A| \cdot |B|, |\prod_{i=1}^n A_i| = \prod_{i=1}^{n} |A_i|$. \\
Kombinatorično:
\begin{itemize}[label={}]
  \item 2 možnosti, izberemo eno ali drugo (ne pa obe) $\implies$ \# načinov je vsota \# načinov,
  \item dvakrat izbiramo, izbiri sta neodvisni $\implies$ \# načinov je produkt \# načinov.
\end{itemize}
\begin{claim}
  $|2^A| = 2^{|A|}$.
\end{claim}
\begin{pro}
  Za vsak element se odločimo, ali ga damo v podmnožico ali ne.
  2 izbiri, izbiramo $|A|$-krat, izbire so neodvisne $2 \cdot 2 \cdots 2 = 2^{|A|}$. \\
  $\phi: 2^A \to \{0,1\}^{|A|}, A = \{a_1, a_2 \dots a_n\}$. \\
  $\phi(B) = (\epsilon_1 \dots \epsilon_n), \epsilon_i = \begin{cases}
      1 \; a_i \in B \\
      0 \; \text{sicer}
    \end{cases}$ \\
  $\psi: \{0,1\}^{|A|} \to 2^A$. \\
  $\psi(\epsilon_1 \dots \epsilon_n) = \{a_i: \epsilon_i = 1\}$. \\
  $\psi \circ \phi, \phi \circ \psi$ identiteti. \\
  $|\{0,1\}|^{|A|} = 2^{|A|}$.
  \qed
\end{pro}
\begin{claim} \text{}
  \begin{enumerate}
    \item $|K^N| = |K|^{|N|}$.
    \item $|\{f \in K^n \text{ injektivna}\}| = |K| (|K|-1) \dots (|K|-|N|+1)$.
    \item $|S_n| = n (n-1) \dots 1 = n!$.
  \end{enumerate}
\end{claim}
oznake: \\
$n^{\underline{k}} = n (n-1) \dots (n-k+1)$: $n$ na $k$ padajoče. \\
$n^{\overline{k}} = n (n+1) \dots (n+k-1)$: $n$ na $k$ naraščajoče.
\begin{rem}
  Pri 2. in 3. smo uporabili varianto načela produkta: izbire sicer niso neodvisne, je pa neodvisno število izbir.
\end{rem}
Dirichletov princip (pigeon-hole principle): \\
$\phi: X \to Y$ injektivna $\implies |X| \leq |Y|$. \\
Če damo $n$ kroglic v $k$ škatel, $n > k$, sta v vsaj eni škatli vsaj $2$ kroglici.
\begin{ex} \text{}
  \begin{enumerate}[label=(\arabic{*})]
    \item $n$ ljudi, med njimi sta dva, ki poznata enako mnogo ljudi. \\
      $X =$ljudje, $f=$ \# znanstev. \\
      $n$ kroglic, $n$ škatel, ampak škatli $0$ in $n-1$ ne moreta biti obe neprazni.
    \item $X \subseteq [2n], |X| = n+1$. \\
      Obstajata $x,y \in X, x \neq y, x|y$. \\
      $x = 2^k \cdot l, k \geq 0, k$ lih. \\
      $Y = \{i \in [2n]$ liho$\}$. \\
      $x \mapsto l$.
  \end{enumerate}
\end{ex}


\section{Binomski koeficienti}

$\binom{n}{k} = \left|\binom{[n]}{k}\right|$ = število k-elementnih podmnoživ v $[n]$
= število izbir k elementov izmed $n$ elementov. \\
$\binom{4}{2} = 6, \binom{5}{0} = 1, \binom{8}{-2} = 0, \binom{8}{9} = 0$. \\
$\binom{n}{0} = 1, \binom{n}{n} = 1, \binom{n}{1} = n$. \\
$\binom{n}{n-k} = \binom{n}{k}$. \\
$\phi: \binom{[n]}{n-k} \to \binom{[n]}{k}$. \\
$\phi(A) = A^c$. \\
$\binom{n}{k} = \binom{n-1}{k-1} + \binom{n-1}{k}$. \\
$\binom{n-1}{k-1}$: izberemo $n$. \\
$\binom{n-1}{k}$: ne izberemo $n$-ja. \\
Pascalov trikotnik: \\
\Longstack[l]{
n=0\\
n=1\\
n=2\\
n=3\\
n=4\\
n=5\qquad\ \\
}
\Longstack{
1\\
1\x 1\\
1\x 2\x 1\\
1\x 3\x 3\x 1\\
1\x 4\x 6\x 4\x 1\\
1\x 5\y 10\z 10\y 5\x 1%\\
%\overline{0\x 1\x 2\x 3\x 4\x 5}
}
\begin{claim}
  $\binom{n}{k} = \frac{n^{\underline{k}}}{k!} = \begin{cases}
    \frac{n!}{n! (n-k)!} \; 0 \leq k \leq 0 \\
    0 \quad k > n
  \end{cases}$
\end{claim}
\begin{pro}
  Izberemo $1$ element na $n$ načinov, $2$ na $n-1 \dots \implies n^{\underline{k}}$ načinov,
  vsak izbor smo šteli $k!$-krat. \\
  Ali: preštejemo urejene izbire $k$ različnih elementov iz $[n]$; \\
  $n^{\underline{k}} = \binom{n}{k} \cdot k!$. \\
  $\binom{n}{k}$: najprej izberemo k elementov. \\
  $k$: nato jih uredimo.
  \qed
\end{pro}
\begin{theorem}[Binomski izrek]
  $(a+b)^n = \sum_{k=0}^{n} \binom{n}{k} a^k b^{n-k}$; \\
  $a,b \in K$ komutativni kolobar, $n \in \N$.
\end{theorem}
\begin{pro} \text{} \\
  \begin{enumerate}[label=D\arabic{*}.]
    \item Indukcija po $n$: \\
      $n=0$: $1=1$ \\
      $n-1 \to n$:
      \begin{align*}
        (a+b)^n &= (a+b)^{n-1}(a+b) = \\
        &\stackrel{\text{IP}}{=} \sum_{k=0}^{n-1} \binom{n-1}{k} a^k b^{n-1-k} (a+b) = \\
        &= \sum_{k=0}^{n-1} \binom{n-1}{k} a^{k+1} b^{n-1-k} + \sum_{k=0}^{n-1} \binom{n-1}{k} a^k b^{n-k} = \\
        &= \sum_{k=1}^{n-1} \binom{n-1}{k-1} a^{k} b^{n-k} + \sum_{k=1}^{n-1} \binom{n-1}{k} a^k b^{n-k} = \\
        &= \sum_{k=0}^{n} \binom{n-1}{k-1} a^{k} b^{n-k} + \sum_{k}^{n} \binom{n-1}{k} a^k b^{n-k} = \\
        &= \sum_{k=0}^{n} \binom{n}{k} a^k b^{n-k}.
      \end{align*}
    \item $(a+b)^n = \sum_k \binom{n}{k} a^k b^{n-k}$ DN.
    \item $(a+b) \dots (a+b) = \sum_{\text{izbira $a$ ali $b$}} \text{produkt izbranih} =$\\
      $= \sum_{k} \binom{n}{k} a^k b^{n-k}$. \\
      $a$ izberemo $k$-krat. \\
      Izberemo $k$ oklepajev, pri katerih izberemo $a$.
  \end{enumerate}
  \qed
\end{pro}
$\binom{10}{3} = \frac{10 \cdot 9 \cdot 8}{3 \cdot 2} = 120$. \\
$\binom{12}{10} = \binom{12}{2} = \frac{12 \cdot 11}{2} = 66$. \\
Izbori: $n$ kroglic, $k$ izberemo. \\
\begin{center}
  \begin{tabular}{c | c | c |c}
    & s ponavljanjem & brez ponavljanja & \\
    \hline
    vrstni red pomemben & $n^k$ & $n^{\underline{k}}$ & variacije \\
    ni pomemben & $\binom{n+k-1}{k}$ & $\binom{n}{k}$ & kombinacije
  \end{tabular}
\end{center}
$1 \leq i_1 \leq i_2 \leq \dots \leq i_k \leq n$. \\
$j_1 = i_1, j_2 = i_2+1 \dots j_k = i_k+k-1$. \\
$1 \leq j_1 < j_2 < \dots < j_k \leq n+k-1$.
\begin{claim}
  Število kompozicij $n$ je $2^{n-1} \; (n \geq 1)$, število kompozicij s $k$ členi je $\binom{n-1}{k-1} \; (n \geq 1)$.
\end{claim}
\begin{pro}
  $n$ kroglic $\quad \circ | \circ \circ \circ | \circ \circ: \; 6 = 1 + 3 + 2$. \\
  $k-1$ pregrad, $n-1$ mest za pregrade.
  \qed
\end{pro}
%
%
% 3. predavanje: 12.10.
%
Kompozicije: $2^{n-1}, \binom{n-1}{k-1}$. \\
Šibka kompozicija: $(\lambda_1 \dots \lambda_l); \; \lambda_i \geq 0, \; \lambda_1 + \dots + \lambda_l = n$. \\
$3: 12, 3, 21, 102, 300, 0102 \dots$ \\
Število šibkih kompozicij $n$ s $k$ členi. \\
% skica
$n+k-1$ objektov, premešamo na $\binom{n+k-1}{k-1}$ oz. $\binom{n+k-1}{n}$ načinov. \\
Še en dokaz: \\
$\lambda_1 + \dots + \lambda_l = n, \; \lambda_i \geq 0$. \\
$\mu_i = \lambda_i + 1 \; \mu_i \geq 1$. \\
$\mu_1 + \dots + \mu_l = n + k \implies \binom{n+k-1}{n-1}$. \\
Primerjaj z: kombinacije s ponavljanjem. \\
$n$ kroglic, $k$-krat izbiram. \\
$\lambda_i$: kolikokrat izberemo $i$-to kroglico. \\
$\lambda_1 + \dots + \lambda_n = k, \; \lambda_i \geq 0$. \\
Šibke kompozicije $k$ z $n$ členi: $\binom{k+n-1}{k}$.
\begin{claim}
  \begin{equation*}
    L(n,k) = \frac{n!}{k!} \binom{n-1}{k-1}.
  \end{equation*}
\end{claim}
\begin{pro}
  Koliko je urejenih razdelitev na linearno urejene bloke:
  \begin{equation*}
    k! \cdot L(n,k) = n! \cdot \binom{n-1}{k-1}.
  \end{equation*}
  Tukaj predstavljajo
  \begin{itemize}
    \item $L(n,k)$: urejene bloke,
    \item $k!$: njihov vrstni red,
    \item $n!$: permutacije,
    \item $\binom{n-1}{k-1}$: šibke kompozicije.
  \end{itemize}
\end{pro}
% skica
Poti iz $(0,0)$ v $(n,m)$, premikamo se gor ali desno. \\
$n$-krat gor, $m$-krat desno: $\binom{n+m}{m}$ možnosti. \\
Poti iz $(0,0)$ v $(2n,0)$, desno-gor ali desno-dol. \\
$n$-krat gor, $n$-krat dol: $\binom{2n}{n}$. \\
Dyckove poti: isto kot prej, se ne spustimo pod $x$-os. \\
Pot je slaba, če gre pod $x$-os: \\
% skica
Od tam naprej, kjer 1. doseže $y=-1$, prezrcalimo pot preko $y=-1$. \\
Konča se v $y=-2$. \\
Število slabih poti = število poti od $(0,0)$ do $(2n,-2)$. \\
Teh je $\binom{2n}{n-1}$: $(n-1)$-krat gor, $(n+1)$-krat dol. \\
$C_n =$ število Dyckovih poti doižine $n$ = $\binom{2n}{n} - \binom{2n}{n-1}$ \\
$= \frac{(2n!)}{n!n!} - \frac{(2n)!}{(n-1)!(n+1)!} = \binom{2n}{n}(1 - \frac{n}{n+1}) = \frac{1}{n+1} \binom{2n}{n}$. \\
Multinomski koeficienti: \\
$\alpha_1 \times 1, \alpha_2 \times 2 \dots \alpha_k \times k: \; 11..12..2..k$. \\
Na koliko načinov lahko premešamo:
\begin{equation*}
  \binom{\alpha_1 + \dots + \alpha_k}{\alpha_1} \binom{\alpha_2 + \dots + \alpha_k}{\alpha_2} \dots
  %\binom{\alpha_{k-1} + \alpha_k}{\alpha_{k-1}} \binom{\alpha_k}{\alpha_k} =
  \binom{\alpha_k}{\alpha_k} =
  \frac{(\alpha_1 + \dots + \alpha_k)!}{\alpha_1! \dots \alpha_k!}.
\end{equation*}
Definiramo
\begin{equation}
  \label{multinomski}
  \binom{\alpha_1 + \dots + \alpha_k}{\alpha_1, \alpha_2 \dots \alpha_k} := \frac{(\alpha_1 + \dots + \alpha_k)!}{\alpha_1! \dots \alpha_k!}.
\end{equation}
Izrazu \refeq{multinomski} pravimo multinomski simbol. \\
Figure v 1. vrsti pri šahu: $\frac{8!}{1!1!2!2!} = 7!$. \\
$i$-jem damo indekse $\alpha_1 \dots \alpha_k: \; 1_1 \dots 1_{\alpha_1} 2_1 \dots k_{\alpha_k}$ \\
Premešamo na $(\alpha_1 + \dots + \alpha_k)!$ načinov. \\
Eno permutacijo dobimo $(\alpha_1! \dots \alpha_k!)$-krat. \\
Multimnožica $M$ je množica, v kateri se elementi lahko ponavljajo. \\
$M = \{1, 1, 1, 2, 2, 3, 3, 3, 3\} = \{1^3, 2^2, 3^4\}$. \\
Število permutacij multimnožice je multinomski simbol. \\
Formalno je multimnožica $(S,f)$, kjer je $S$ množica, $f: S \to \N$ šteje kolikokrat se posamezen element ponovi.


\section{Dvanajstera pot}

$n$ kroglic, $k$ škatel; na koliko načinov lahko damo kroglice v škatle.
\begin{center}
  \begin{tabular}{c | c | c | c | c}
    $N \setminus K$ & vse & injekcije & surjekcije & \\
    \hline
    L L & $k^n$ & $k^{\underline{n}}$ & $k! S(n,k)$ & \\
    N L & $\binom{n+k-1}{k-1}$ & $\binom{k}{n}$ & $\binom{n-1}{k-1}$ & \sn{kompozicije} \\
    L N & $\sum_i S(n,i)$ & $\begin{cases}1 \; k \geq n \\ 0 \text{ sicer} \end{cases}$ & $S(n,k)$ & razdelitve \\
    N N & $\overline{p_k(n)}$ & $\begin{cases}1 \; k \geq n \\ 0 \text{ sicer} \end{cases}$ & $p_k(n)$ & razčlenitve
  \end{tabular}
\end{center}
Vpeljemo ekvivalenčne relacije
\begin{itemize}
  \item $f \sim_N g: \; \exists \pi \in S_n: \; f \circ \pi = g$
  \item $f \sim_K g: \; \exists \sigma \in S_k: \; \sigma \circ f = g$
  \item $f \sim_{N,k} g: \; \exists \pi \in S_n, \sigma \in S_k: \; \sigma \circ f \circ \pi = g$.
\end{itemize}


\section{Rekurzije}

$\binom{n}{k} = \binom{n-1}{k-1} + \binom{n-1}{k}$. \\
$c(n,k) = c(n-1,k-1) + (n-1) c(n-1,k)$; \\
$c(n-1,k-1)$: $n$ negibna, $(n-1)$: za kateri element vstavimo. \\
$S(n,k) = S(n-1,k-1) + k S(n-1,k)$; \\
$S(n-1,k-1)$: $n$ v svojem bloku, $k$: v kateri blok vstavimo. \\
$L(n,k) = L(n-1,k-1) + (n+k-1) L(n-1,k)$; \\
$L(n-1,k-1)$: $n$ v svojem bloku, $(n+k-1)$: kam vstavimo. \\
$B(n+1) = \sum_{k=0}^{n} \binom{n}{k} B(n-k) = \sum_{k=0}^{n} \binom{n}{k} B(k)$; \\
odstranimo blok, v katerem je $n+1$, $k$: število elementov v bloku skupaj z $n+1$,
$\binom{n}{k}$: kateri elementi v bloku skupaj z $n+1$, $B(n-k)$: razdelimo ostale. \\
$p_k(n) = p_{k-1}(n-1) + p_k(n-k)$; \\
$p_{k-1}(n-1)$: $\lambda_l = 1$, $p_k(n-k)$: $\lambda_l \geq 2$ (odstranimo 1. stolpec v Ferrersovem diagramu). \\
$A(n,k) = (n+1-k) A(n-1,k-1) + k A(n-1,k)$.
ostranimo $n$, $k$: n damo na konec ali za spust, $(n+1-k)$: $n$ damo na začetek ali za vzpon.
V $S_n$ velja še: števio spustov + število vzponov = $n-1$. \\
$2 E_{n+1} = \sum_{k=0}^{n} \binom{n}{k} E_k E_{n-k} \; n \geq 1$; \\
% skica
$k$: koliko elementov je pred $n+1$, število obratno alternirajočih = število alternirajočih ($i \to n+1-i$),
$E_k$: pred $n+1$, $E_{n-k}$: za $n+1$, štejemo in alternirajoče in obratno alternirajoče permutacije. \\
$C_{n+1} = \sum_{k=0}^{n} C_k C_{n-k}$; \\
% skica
$k$: ko 1. pridemo v $y=0$: pred in za tem sta Dyckovi poti. \\
$p(n) = p(n-1) + p(n-2) - p(n-5) - p(n-7) + p(n-12) + p(n-15) - \dots$ \\
Eulerjev petkotniški izrek (dokaz kasneje) (pentagonal).


\section{Načelo vklučitev in izključitev (NVI)}

(Principle of inclusion and exclusion). \\
$|A \cup B| = |A| + |B| - |A \cap B|$. \\
$|A \cup B \cup C| = |A| + |B| + |C| - |A \cap B| - |A \cap C| - |B \cap C| + |A \cap B \cap C|$.
\begin{theorem}[NVI]
  \begin{align*}
    |\cup_{i=1}^n A_i| &= |A_1| + |A_2| + \dots + |A_n| \\
    &- |A_1 \cap A_2| - \dots - |A_{n-1} \cap A_n| \\
    &+ |A_1 \cap A_2 \cap A_3| + \dots + |A_{n-2} \cap A_{n-1} \cap A_n| \\
    &- \dots \\
    &= \sum_{i=1}^{n} (-1)^{i-1} \sum_{1 \leq j_1 < \dots < j_k \leq n} |A_{j_1} \cap \dots \cap A_{j_k}| \\
    &= \sum_{\emptyset \neq S \subseteq [n]} (-1)^{|S|-1} |A_S|,
  \end{align*}
  kjer je $A_S := \cap_{i \in S} A_i$.
\end{theorem}
\begin{pro} \text{} \\
  $x \in \cup_{i=1}^n A_i$. \\
  Trdimo, da $x$ prispeva $1$ k vsoti na desni. \\
  Recimo, da je $x$ v natanko $m$ množicah $A_i \; (1 \leq m \leq n)$:
  \begin{align*}
    &m - \binom{m}{2} + \binom{m}{3} - \dots + (-1)^{m} \binom{m}{m} \\
    &= 1 - \left(\binom{m}{0} - \binom{m}{1} + \binom{m}{2} - \dots + (-1)^{m-1} \binom{m}{m}\right) \\
    &= 1 - (1-1)^m = 1.
  \end{align*}
\end{pro}
\begin{claim}[NVI, 2. verzija]
  \begin{equation*}
    \left|\cap_{i=1}^n A_i^C\right| = \sum_{S \subseteq [n]} |A_S|.
  \end{equation*}
\end{claim}
\begin{pro}
  \begin{align*}
    \left|\cap_{i=1}^n A_i^C\right| &= \left|(\cup_{i=1}^n A_i)^C\right| \\
    &= |A| - |\cup_{i=1}^n A_i| \\
    &= |A| + \sum_{\emptyset \neq S \subseteq [n]} (-1)^{|S|} |A_S| \\
    &= \sum_{S \subseteq [n]} |A_S|,
  \end{align*}
  kjer velja še $A_{\emptyset} = A$.
\end{pro}


% 4. predavanje: 19.10.

\begin{ex}
  \begin{enumerate}[label=(\arabic{*})] \text{}
    \item Koliko je $k$-elementnih antiverig v $B_n$? \\
      $B_n = (2^{[n]}, \subseteq)$ Boolova algebra, antiveriga - množica neprimerljivih elementov.
      \begin{enumerate}[label={k=\arabic*:}]
        \item $2^n$ (vsi elementi).
        \item 
          \begin{align*}
            &S = \{(A,B): A, B \subseteq [n]\} \\
            &S_1 = \{(A,B): A \subseteq B\} \\
            &S_2 = \{(A,B): B \subseteq A\} \\
            &|S_1^C \cap S_2^C| = |S| - |S_1| - |S_2| + |S_1 \cap S_2| = 4^n - 2 \cdot 3^n + 2^n;
          \end{align*}
          $4^n$: vse možnosti $x \in, \notin A,B$, $3^n$: vse razen $x \in A, \notin B \dots$ \\
          $\implies \frac{1}{2} (4^n - 2 \cdot 3^n + 2^n)$.
        \item
          \begin{align*}
            &S = \{(A,B,C): A,B,C \in 2^{[n]}\} \\
            &S_1: A \subseteq B, S_2: B \subseteq A, S_3: A \subseteq C, S_4: C \subseteq A \\
            &S_5: B \subseteq C, S_6: C \subseteq B. \\
            &|\cap_{i=1}^6 S_i^C| = 8^n - 6 \cdot 6^n + 3 \cdot 4^n + 6 \cdot 5^n - 6 \cdot 4^n - \stackrel{\text{DN}}{\dots}
          \end{align*}
          $6^n: S_i$, $4^n:$ npr. $S_1 \cap S_2$, $5^n$: npr. $S_1 \cap S_3$, $4^n:$ npr. $S_1 \cap S_4$.
      \end{enumerate}
    \item $i_n$: število premestitev v $S_n$ = število permutacij v $S_n$ brez negibne točke (dearangement).
      \begin{align*}
        &A = S_n \\
        &A_i = \{\pi \in S_n: \pi_i = i\} \\
        &|A_{I}| = (n - |I|)! \\
        i_n &= \sum_{I \subseteq [n]} (-1)^{|I|} (n - |I|)! \\
        &= \sum_{k=0}^{n} \binom{n}{k} (-1)^k (n-k)! \\
        &= n! \sum_{k=0}^{n} \frac{(-1)^k}{k!}.
      \end{align*}
      $P$(število premestitev) $= \sum_{k=0}^{n} \frac{(-1)^k}{k!} \stackrel{n \to \infty}{\to} e^{-1}$.
    \item Število surjekcij iz $[n]$ v $[k]$.
      \begin{align*}
        &A = [k]^{[n]} \\
        &A_i = ([k] \setminus \{i\})^{[n]} \\
        \left|\cap_{i=1}^n A_i^C\right| &= \sum_{I \subseteq [n]} (-1)^{|I|} (k - |I|)^n \\
        &= \sum_{k=1}^{n} \binom{k}{i} (-1)^i (k-i)^n \\
        &\stackrel{i=k-i}{=} \sum_{j=1}^{k} (-1)^{k-j} \binom{k}{j} j^n \\
        &= k! S(n,k);
      \end{align*}
      surjekcija je urejena razdelitev;
      \begin{equation*}
        S(n,k) = \sum_{j=0}^{n} \frac{(-1)^{k-j} j^n}{j! (k-j)!}.
      \end{equation*}
    \item Eulerjev petkotniški izrek:
      \begin{equation*}
        p(n) = p(n-1) + p(n-2) - p(n-5) - \dots
      \end{equation*}
      \begin{align*}
        &A = \{\text{razčlenitve }n\} \\
        &A_i = \{\text{razčlenitve }n \text{, ki vsebujejo }i \text{ za člen}\} \; i = 1,2 \dots n \\
        &|A_i| = p(n-i) \\
        &|A_i \cap A_j| = p(n-k-j) \\
        &|A_I| = p(n - \sum_{i \in I} i) \\
        p(n) &= p(n-1) + p(n-2) + p(n-3) + \dots \\
        &- p(n-1-2) - p(n-1-3) - p(n-2-3) - \dots \\
        &+ p(n-1-2-3) - \dots \\
        &= p(n-1) + p(n-2) - p(n-5) - p(n-7) + \dots
      \end{align*}
      Franklinova bijekcija: \\
      $p(n) = \sum_{m=1}^{\infty} (\alpha(m) - \beta(m)) p(n-m)$; m - razčlenitve z različnimi členi, \\
      $\alpha(m) = $ število razčlenitev $m$ z liho mnogo različnimi členi, \\
      $\beta(m) = $ število razčlenitev $m$ z sodo mnogo različnimi členi, \\
      Bijekcija
      \begin{align*}
        \Phi: & \{\text{razčlenitev }m \text{ z liho mnogo različnimi členi}\} (\setminus \{\dots\}) \\
        &\to \{\text{razčlenitev }m \text{ z sodo mnogo različnimi členi}\} (\setminus \{\dots\}).
      \end{align*}
      % skica
      $f(\lambda) = \max \{i: \lambda_i = \lambda_1 - i + 1\}$ - bok, \\
      $g(\lambda) = \lambda_{l(\lambda)}$ - najmanjši člen,
      \begin{enumerate}[label={\alph*)}]
        \item $f(\lambda) \geq g(\lambda)$: min $\to$ bok,
          % skica
        \item $f(\lambda) < g(\lambda)$: bok $\to$ min,
          % skica
      \end{enumerate}
      a) ne dela (število členov se ohrani), \\ % skica
      b) ne dela (2 člena enako dolga), \\ % skica
      a) ne dela, ko: \\ % skica
      $f(\lambda) = g(\lambda) = l(\lambda)$ \\
      $m = k + (k+1) + \dots + (2k-1) = \frac{2k(2k-1)}{2} - \frac{k(k-1)}{2} = \frac{k(3k-1)}{2}$ \\
      $(\alpha(m) - \beta(m)) = (-1)^{k-1}$ ($k$ lih ali sod). \\
      b) ne dela, ko: \\ % skica
      $f(\lambda) = g(\lambda) - 1 = l(\lambda)$ \\
      $m = (k+1) + (k+2) + \dots + (2k) = \dots = \frac{k(3k+1)}{2}$ \\
      $(\alpha(m) - \beta(m)) = (-1)^{k-1}$. \\
      Eulerjev petkotniški izrek:
      \begin{align*}
        p(n) &= \sum_{k=1}^{\infty} (-1)^{k-1} \left(p\left(n-\frac{k(3k-1)}{2}\right) + p\left(n-\frac{k(3k+1)}{2}\right)\right) \\
        \text{oz.} & \sum_{k \in \Z} (-1)^k p\left(n - \frac{k(3k+1)}{2}\right) = 0.
      \end{align*}
      Tukaj smo upoštevali ko vstavimo $-k$: $\frac{-k(-3k-1)}{2} = \frac{k(3k+1)}{2}$ in $p(0) = 0$.
  \end{enumerate}
\end{ex}
\begin{theorem}[\sn{NVI}] \text{} \\
  $f, g: B_n \to K$, $K$ komutativni kolobar.
  \begin{equation*}f(T) = \sum_{S \subseteq T} g(S) (\forall T \in B_n) \iff
    g(T) = \sum_{S \subseteq T} (-1)^{|T \setminus S|} f(S) (\forall T \in B_n).
  \end{equation*}
\end{theorem}
\begin{exmp} \text{} \\
  $des(\pi) = |\{i : \pi(i) > \pi(i+1)\}|$ \\
  $D(\pi) = \{i : \pi(i) > \pi(i+1)\}$ \\
  $D(1\;4\;2\;6\;5\;3) = \{2,4,5\}$ \\
  $f_n(T) = |\{\pi \in S_n: D(\pi) = T\}|$ \\
  npr. $n=8, T=\{1,5\}$ \\
  $g_n(T) = |\{\pi \in S_n: D(\pi) \subseteq T\}|$ \\
  $T = \{t_1, t_2 \dots t_k\}$ \\
  $g_n(T) = \binom{n}{t_1} \binom{n-t_1}{t_2-t_1} \binom{n-t_1-\dots-t_{k-1}}{t_k}
    = \binom{n}{t_1,t_2-t_1 \dots t_k-t_{k-1}, n-t_k}$ \\
  $\_ < \_ < \_ < \underline{t_i} \lessgtr \_$: zaradi $\subseteq$: tam lahko spust ali pa ne. \\
  // če lastnosti točno določene: težko ($f_n(T)$), če \sn{vsebovano} ($g_n(T)$): lažje \\
  $g_n(T) = \sum_{S \subseteq T} f_n(S)$ \\
  \begin{align*}
    f_n(T) &= \sum_{S \subseteq T} (-1)^{|T \setminus S|} g_n(S) \\
    &= \sum_{S \subseteq T} (-1)^{|T \setminus S|} \binom{n}{s_1, s_2-s_1 \dots n-s_k} \\
    &\stackrel{\text{vaje}}{=} det\left[\binom{n-t_i}{t_{j+1}-t_j}\right]_{i,j=0}^{|T|}.
  \end{align*}
  npr. $n=8$, $T=\{1,5\}, t_0=0, t_{|T|}=n+1=9$
  \begin{equation*}
    f_8(\{1,5\}) = \begin{vmatrix}
      \binom{8}{1} & \binom{8}{5} & \binom{8}{8} \\
      \binom{7}{0} & \binom{7}{1} & \binom{7}{7} \\
      \binom{3}{-4} & \binom{3}{0} & \binom{3}{3}
    \end{vmatrix} = 217.
  \end{equation*}
\end{exmp}
\begin{pro} \text{} \\
  $(\implies)$:
  \begin{align*}
    \sum_{S \subseteq T} (-1)^{|T \setminus S|} f(S) &= \sum_{S \subseteq T} (-1)^{|T \setminus S|} f(S) \sum_{U \subseteq S} g(U) \\
    &= \sum_{U \subseteq T} \left(\sum_{U \subseteq S \subseteq T} (-1)^{|T \setminus S|}\right) g(U) \\
    &\stackrel{k=|S \subseteq U|}{=} \sum_{U \subseteq T}
      \sum_{k=0}^{|U|} \binom{|T \setminus U|}{k} (-1)^{|T \setminus U| - k} g(U) \\
    &= g(T).
  \end{align*}
  Na notranji vsoti uporabimo binomski izrek za $-1$ in $1:$
  \begin{equation*}
    (1-1)^{|T \setminus S|} =
    \begin{cases}
      1: U = T \\
      0: U \subset T
    \end{cases}
  \end{equation*}
\end{pro}


\section{Polinomske enkosti}

$(1+x)^n = \sum_{k=0}^{n} \binom{n}{k} x^k$
\begin{theorem} \text{}
  \begin{enumerate}[label={(\alph*)}]
    \item $\sum_k c(n,k) x^k = x^{\overline{n}}$
    \item $\sum_k (-1)^{n-k} c(n,k) x^k = x^{\underline{n}}$
    \item $\sum_k S(n,k) x^{\underline{k}} = x^{n}$
    \item $\sum_k (-1)^{n-k} S(n,k) x^{\overline{k}} = x^{n}$
    \item $\sum_k L(n,k) x^{\underline{k}} = x^{\overline{n}}$
    \item $\sum_k (-1)^{n-k} L(n,k) x^{\overline{k}} = x^{\underline{n}}$
  \end{enumerate}
\end{theorem}
\begin{rem}
  $K[x] = \{$polinomi v $x\}$ vektorski prostor (celo algebra), $K$ komutativen obseg. \\
  $\{x^n\}, \{x^{\underline{n}}\}, \{x^{\overline{n}}\}$ naravne baze.
\end{rem}
\begin{pro} \text{}
  \begin{enumerate}
    \item[(a)] Indukcija (na vajah drugače): \\
      $n=0$: 1=1 \\
      $n-1\to n$:
        \begin{align*}
          x^{\overline{n}} &= x^{\overline{n-1}}(x+n-1) \stackrel{\text{IP}}{=} (x+n-1) \sum_k c(n-1,k) x^k \\
          &= \sum_k c(n-1,k-1) x^k + (n-1) \sum_k c(n-1,k) x^k = \sum_k c(n,k) x^k,
        \end{align*}
    \item[(b)] $x \to -x$ v (a),
    \item[(c)] Preslikava = razdelitev + injekcija, \\
      število preslikav iz $[n]$ v $[k] = \sum_k S(n,k) x^{\underline{k}}$, kjer predstavljajo
      \begin{itemize}
        \item $k$: število blokov,
        \item $S(n,k)$: razdelimo $[n]$ na $k$ blokov,
        \item $x^{\underline{k}}$: injekcija $[k] \to [x]$.
      \end{itemize}
      Dokazali smo za $x \in \N \implies$ polinoma sta enaka (ujemanje v $\infty$ točkah).
    \item[(e)] Z indukcijo DN.
  \end{enumerate}
\end{pro}
$\pi = 4\;2\;5\;1\;6\;3$ \\
$inv(\pi) = 7$ \\
$I(\pi) = \{(1,2), (1,4), (1,6) \dots\}$ \\
$TI(\pi) = (a_1 \dots a_n); \; a_k = \{(i,j): \pi_i > \pi_j = k\}$ (\sn{desna stran}) - tabela inverzij. \\
$TI(\pi) = (3,1,3,0,0,0)$ \\
$0 \leq a_i \leq n-i$, $a_i$: koliko levo od $i$ večjih od $i$.
\begin{claim} \text{} \\
  $TI: S_n \to [0,n-1] \times [0,n-2] \times \dots \times [0,0]$ je bijekcija.
\end{claim}
\begin{conseq}
  \begin{equation*}
    \sum_{\pi \in S_n} q^{inv(\pi)} = \underline{n!} = (1+q) (1+q+q^2) \dots (1+q+\dots+q^{n-1}).
  \end{equation*}
\end{conseq}


% 5. predavanje: 26.10.

$\pi = 4 \; 1 \; 7 \; 3 \; 9 \; 6 \; 2 \; 8 \; 5$, \\
$TI(\pi) = (1, 5, 2, 0, 4, 2, 0, 1, 0)$, \\
inverz: $9 \to 9 \; 8 \to 7 \; 9 \; 8 \to 7 \; 9 \; 6 \; 8 \to 7 \; 9 \; 6 \; 8 \; 5 \to 4 \; 7 \; 9 \; 6 \; 8 \; 5 \\
\to 4 \; 7 \; 3 \; 9 \; 6 \; 8 \; 5 \to 4 \; 7 \; 3 \; 9 \; 6 \; 2 \; 8 \; 5 \to 4 \;  1 \; 7 \; 3 \; 9 \; 6 \; 2 \; 8 \; 5$.
\begin{pro} trditve. \\
  Skonstruiramo inverz: \\
  $(a_1 \dots a_n), \; 0 \leq a_i \leq n-i$. \\
  Vpisujemo $n, n-1 \dots 1$: $i$ pišemo za $a_i$ elementi.
\end{pro}
\begin{pro} posledice. \\
  $\sum_{\pi \in S_n} q^{inv(\pi)} = n!_q = \underline{n!} = \underline{n} \underline{(n-1)} \dots 1$ - q fakulteta,
  $\underline{i} = 1 + q + \dots + q^{i-1}$ - polinom, q-naravno število (q-integer). \\
  \begin{align*}
    D &= (1 + q + \dots + q^{n-1}) (1 + q + \dots + q^{n-2}) \dots 1 \\
    &= \sum_{0 \leq a_i \leq n-i} q^{a_1} q^{a_2} \dots q^{a_n} \\
    &\stackrel{\text{trditev}}{=} \sum_{\pi \in S_n} q^{inv(\pi)}.
  \end{align*}
\end{pro}
\begin{rem}
  $maj(\pi) = \sum_{i \text{ spust } \pi} i$ oz. $\sum_{i \in D(\pi)} i$ - majorski indeks \\
  $maj(4 \; 2 \; 5 \; 1 \; 3) = 1 + 3 = 4$ \\
  $\sum_{\pi \in S_n} q^{maj(\pi)} = \sum_{\pi \in S_n} q^{inv(\pi)} = \underline{n!}$.
\end{rem}
\begin{defn}[q-binomski koeficient]
  \begin{equation*}
    \binom{\underline{n}}{\underline{k}} = \binom{n}{k}_q = \frac{\underline{n!}}{\underline{k!} \underline{(n-k)!}}.
  \end{equation*}
\end{defn}
$\binom{\underline{n}}{\underline{0}} = \binom{\underline{n}}{\underline{n}} = 1$ \\
$\binom{\underline{n}}{\underline{1}} = \underline{n}$
$\binom{\underline{4}}{\underline{2}} = \frac{(1 + q + q^2 + q^3)(1 + q + q^2) (1 + q)}{(1 + q)(1 + q)} = (1 + q^2) (1 + q + q^2)$
$q = 1: \binom{\underline{n}}{\underline{k}} = \binom{n}{k}$.
\begin{claim}
  \begin{equation*}
    \binom{\underline{n}}{\underline{k}}
    = q^{n-k} \binom{\underline{n-1}}{\underline{k-1}} + \binom{\underline{n-1}}{\underline{k}}
    = \binom{\underline{n-1}}{\underline{k-1}} + q^k \binom{\underline{n-1}}{\underline{k}}.
  \end{equation*}
\end{claim}
\begin{pro}
  \begin{align*}
    &q^{n-1} \frac{\underline{(n-1)!}}{\underline{(k-1)!} \underline{(n-k)!}} + \frac{\underline{(n-1)!}}{\underline{(k)!} \underline{(n-1-k)!}} \\
    &= \frac{\underline{n!}}{\underline{k!} \underline{(n-k)!}} (q^{n-k} \underline{k!} + \underline{n-k}) \\
    &= \frac{\underline{n!}}{\underline{k!} \underline{(n-k)!}} \\
    &= \binom{\underline{n}}{\underline{k}},
  \end{align*}
  kjer je
  \begin{equation*}
    q^{n-k} \underline{k!} + \underline{n-k} = q^{n-k} + \dots + q^n + 1 + \dots + q^{n-k-1} = 1 + q + \dots + q^n.
  \end{equation*}
\end{pro}
\begin{conseq}
  $\binom{\underline{n}}{\underline{k}}$ je polinom v $q$.
\end{conseq}
\begin{claim}
  \begin{equation*}
    \prod_{i=1}^{n} (1 + q^{i-1}x) = \sum_{k=0}^{n} \binom{\underline{n}}{\underline{k}} x^k.
  \end{equation*}
\end{claim}
\begin{pro}
  Indukcija: \\
  $n = 0: 1 = 1$ \\
  $n - 1 \to n$:
  \begin{align*}
    \prod_{i=1}^{n} (1 + q^{i-1}x) &= \left(\sum_{k=0}^{n} \binom{\underline{n-1}}{\underline{k}} x^k\right) \cdot (1 + q^{n-1}x) \\
    &= \sum_k q^{\binom{k}{2}} \binom{\underbar{n-1}}{\underline{k}} x^k
      + \sum_k q^{\binom{k-1}{2}+n-1} \binom{\underline{n-1}}{\underline{k-1}} x^k \\
    &= \sum_k q^{\binom{k}{2}} \left(\binom{\underline{n-1}}{k} +
      q^{\binom{k-1}{2}+n-1-\binom{k}{2}} \binom{\underline{n-1}}{\underline{k-1}}\right) x^k.
  \end{align*}
  Upoštevali smo $\binom{k-1}{2} - \binom{k}{2} = - \binom{k-1}{1}$.
\end{pro}
$\Z_p, p$ praštevilo končen obseg.
\begin{theorem}
  Obseg moči $n \in \N$ obstaja $\iff$ $n = p^k$ $p$ praštevilo.
  Obseg je do izomorfizma natančno določen. \\
  $\F_q$ - oznaka.
\end{theorem}
\begin{theorem}
  V $\F_q^n$ je $\binom{\underline{n}}{\underline{k}}$ $k$-dimenzionalnih podprostorov.
\end{theorem}
\begin{ex}
  $q=4, n=4, k=2: \; (1 + 4^2) + (1 + 4 + 4^2) = 38$.
\end{ex}
\begin{pro}
  Spomnimo se: $[n]$ ima $\binom{n}{k}$ $k$-podmnožic,
  štejemo urejene $k$-terice različnih števil: $k! \binom{n}{k} = n^{\underline{k}}$. \\
  Štejemo $k$-terice linearno neodvisnih vektorjev v $\F_q^n$:
  \begin{equation*}
    (q^k-1) (q^k-q) \dots (q^k - q^{k-1}) X = (q^n-1) (q^n-q) \dots (q^n - q^{n-1});
  \end{equation*}
  $q^k - q^i$: vsi v podprostoru brez linearnih kombinacij že vzetih, \\
  $q^n - q^i$: vsi brez linearnih kombinacij že vzetih. \\
  $X$: število izbir podprostora.
  \begin{equation*}
    X = \frac{q^{\binom{k}{2}} (q-1)^k \underline{n} \underline{(n-1)} \dots \underline{(n-k+1)}}
      {q^{\binom{k}{2}} (q-1)^k \underline{k!}} = \binom{\underline{n}}{\underline{k}}.
  \end{equation*}
\end{pro}
\begin{defn}[q-multinomski koeficient]
  \begin{align*}
    \binom{\underline{a_1 + \dots + a_k}}{\underline{a_1}, \underline{a_2} \dots \underline{a_k}}
    &= \frac{\underline{(a_1 + \dots + a_k)!}}{\underline{a_1!} \dots \underline{a_k!}} \\
    &= \binom{\underline{a_1 + \dots + a_k}}{\underline{a_1}}
      \binom{\underline{a_2 + \dots + a_k}}{\underline{a_2}} \dots \binom{\underline{a_k}}{\underline{a_k}}.
  \end{align*}
  $\implies$ je polinom (produkt polinomov).
\end{defn}
$x_1 \dots x_n$ permutacija multimnožice $\{1^{a_1}, 2^{a_2} \dots n^{a_n}\}$ \\
inverzija: $(i,j): i < j, x_i > x_j$ \\
$inv$: število inverzij \\
$inv(1 \; 2 \; 1 \; 1 \; 2 \; 3) = 2$.
\begin{theorem}
  $M = \{1^{a_1}, 2^{a_2} \dots n^{a_n}\}$
  \begin{equation*}
    \sum_{\pi \in S(M)} q^{inv(\pi)} = \binom{\underline{a_1 + \dots + a_n}}{\underline{a_1} \dots \underline{a_n}}.
  \end{equation*}
\end{theorem}
\begin{ex} \text{} \\
  $q = 1: |S(M)| = \binom{a_1 + \dots + a_n}{a_1 \dots a_n}$ \\
  $a_1 = \dots = a_n = 1: \sum_{\pi \in S_n} q^{inv(\pi)} = n!$ - posplošitev formul za multinomske koeficiente
  in Stirlingova števila 1. vrste.
\end{ex}
\begin{pro}
  \begin{align*}
    &\sum_{\pi \in S(M)} q^{inv(\pi)} \underline{a_1!} \dots \underline{a_n!} = \underline{(a_1 + \dots + a_n)!} \\
    &\sum_{\pi_0 \in S(M)} q^{inv(\pi_0)} \cdot \sum_{\pi_1 \in S_{a_1}} q^{inv(\pi_1)} \dots
      \sum_{\pi_n \in S_{a_n}} q^{inv(\pi_n)} = \sum_{\pi \in S_{a_1 + \dots + a_n}} q^{inv(\pi)}.
  \end{align*}
  Iščemo bijekcijo
  \begin{align*}
    \Phi: &(\pi_0 \pi_1 \dots \pi_n) \to \pi \\
    &S(M) S_{a_1} \dots S_{a_n} \mapsto S_{a_1 + \dots + a_n}.
  \end{align*}
  $M = \{1^4, 2^2, 3^3\}$ \\
  $(1 \; 2 \; 2 \; 1 \; 3 \; 1 \; 3 \; 3 \; 1, 2 \; 4 \; 1 \; 3, 2 \; 1, 1 \; 3 \; 2)$ \\
  $\mapsto 2 \; 6 \; 5 \; 4 \; 7 \; 1 \; 9 \; 8 \; 3$. \\
  V $\pi_0$ enke spremenimo v $1 \dots a_1$ v vrstnem redu, ki ga določa $\pi_1$,
  v $\pi_0$ dvojke spremenimo v $a_1+1 \dots a_2$ v vrstnem redu, ki ga določa $\pi_2$, itn. \\
  $inv(\pi_0) + \dots + inv(\pi_n) = inv(\Phi(\pi_0 \dots \pi_n))$. \\
  Vsaka inverzija $\Phi(\pi_0 \dots \pi_n)$ prihaja bodisi od inverzije $\pi_i$ bodisi od inverzije $\pi_0$
  (glede na \sn{indeks} v $\pi_0$) $\implies$ vsota enaka.
\end{pro}



\chapter{Formalne potenčne vrste}


\section{Uvod}

$\sum_k c(n,k) x^k = x^{\overline{n}}$ \\
$\sum_n S(n,k) x^n$ neskončna vsota. \\
V analizi: potenčne vrste: \\
$F(x) = \sum_{n=0}^{\infty} a_n x^n$. \\
Konvergira za $|x| < R$ - konvergenčni polmer:
\begin{equation*}
  R = \frac{1}{\limsup_{n \to \infty} \sqrt[n]{|a_n|}} \stackrel{\text{če obstaja}}{=}
  \lim_{n \to \infty} \left|\frac{a_n}{a_{n+1}}\right| \in [0, \infty].
\end{equation*}
\begin{ex}
  $\sum_{n=0}^{\infty} x^n: R = 1$ \\
  $\sum_{n=0}^{\infty} \frac{x^n}{n!}: R = \lim_{n \to \infty} \frac{\frac{1}{n!}}{\frac{1}{(n+1)!}}
    = \frac{(n+1)!}{n!} = \infty$ \\
  $\sum_{n=0}^{\infty} n! x^n: R = 0$ \\
  $\sum_{n=0}^{\infty} n!^2 x^n = \sum_{n=0}^{\infty} n! x^n$ - definirana samo v $0$, obe z vrednostjo $1$ tam. \\
  $F(x) = \begin{cases}e^{-\frac{1}{x^2}} x \neq 0 \\ 0 \; x = 0 \end{cases}: \R \to \R$ \\
  $F^{(n)}(0) = 0 \; \forall n \geq 0 \implies F(x) = 0 + 0x + 0x^2 + \dots$
\end{ex}
Potenčne vrste niso \sn{najboljše} za študij zaporedij.


\section{Formalne potenčne vrste}

$K$ komutativni obseg s karakteristiko $0: 1 + 1 + \dots + 1 \neq 0 \; \forall n \geq 1$. \\
$\Q, \R, \C$ \\
$\frac{1}{n!}$ je definirano \\
$K[[x]] = \{(a_n)_n: a_n \in K\} = K^{\N}$ - množica formalnih potenčnih vrst (FPV) = zaporedje \\
$K[x] = \{(a_n)_n: a_n \in K, a_n = 0 \forall n \geq n_0\}$ - množica polinomov. \\
V $K[[x]]$ vpeljemo operacije:
\begin{itemize}[label={}]
  \item $(a_n)_n + (b_n)_n = (a_n + b_n)_n$,
  \item $\lambda (a_n)_n = (\lambda a_n)_n$,
  \item $((a_n)_n \cdot (b_n)_n) = (c_n)_n; \; c_n = \sum_{k=0}^{n} a_k b_{n-k}$ - konvolucijsko množenje.
\end{itemize}
$K[[x]]$ algebra formalnih potenčnih vrst: komutativna, $(1,0,0,0 \dots)$ enota za množenje:
$\sum_{k=0}^{n} a_k \cdot \delta_{n-k,0} = a_n$. \\
Oznake:
\begin{itemize}[label={}]
  \item $(a_n)_n \leftrightarrow \sum_n a_n x^n$: ni vsota (samo oznaka), $x$ je ločilo (ni spremenljivka, ne \sn{vstavljamo}),
  \item $(a_0 + a_1x + \dots) (b_0 + b_1x + \dots) = a_0 b_0 + (a_1 b_0 + a_0 b_1) x + \dots$,
  \item $1 + 0x + 0x^2 + \dots = 1$,
  \item $[x^n] F(x) := a_n$ - \sn{koeficient pred $x^n$},
  \item $F(0) := [x^0] F(x)$.
\end{itemize}
\begin{claim}
  $F(x)$ ima inverz $\iff F(0) \neq 0$.
\end{claim}
\begin{pro} \text{} \\
  $(\Longrightarrow):$
  \begin{align*}
    &F(x) G(x) = 1 \\
    &F(0) G(0) = 1\; \implies F(0) = 0
  \end{align*}
  $(\Longleftarrow):$
  \begin{align*}
    &F(x) = a_0 + a_1x + a_2x^2 + \dots, a_0 \neq 0 \\
    &G(x) = b_0 + b_1x + b_2x^2 + \dots \\
    &F(x) G(x) = 1 \\
    &a_0 b_0 = 1 \implies b_0 = \frac{1}{a_0} \\
    &a_0 b_1 + a_1 b_0 = 0 \implies b_1 = \frac{-a_1 b_0}{a_0} \\
    &a_0 b_2 + a_1 b_1 + a_2 b_0 = 0 \implies b_2 = \frac{-a_1 b_1 - a_2 b_0}{a_0} \\
    &\vdots
  \end{align*}
\end{pro}
\begin{rem}
  $K$ komutativen kolobar s karakteristiko $0$. \\
  $F(x)$ ima inverz $\iff$ $F(0)$ ima inverz v $K$.
\end{rem}
$v(F(x)) = \begin{cases}
  \min n: [x^n]F(x) \neq 0 &F(x) \neq 0 \\
  \infty &F(x) = 0
\end{cases}$ - valuacija. \\
$v(F(x) G(x)) = v(F(x)) v(G(x))$ ($\implies$ ni deliteljev niča) \\
$v(F(X) + G(x)) \geq \min \{v(F(x)), v(G(x))\}$ \\
$v(\lambda F(x)) = \begin{cases}
  v(F(x)) \; \lambda \neq 0 \\
  \infty \; \lambda = 0
\end{cases}$ \\
$d(F(x), G(x)) = 2^{-v(F(x) - G(x))}$ - metrika \\
$d(F(x), G(x)) = 2^{-k} \iff [x^n] F(x) = [x^n] G(x) \; \forall n \leq k$.
\begin{claim}
  $(K[[x]], d)$ je poln metrični prostor.
\end{claim}
\begin{pro}
  \begin{align*}
    &d \geq 0, d = 0 \iff F = G \\
    &d(F(x), G(x)) = d(G(x), F(x)) \\
    d(F(x), H(x)) &= 2^{-v(F(x) - H(x))} \\
    &= 2^{-v(F(x) - G(x) + G(x) - H(x))} \\
    &\leq \max \{2^{-v(F(x) - G(x))}, 2^{-v(G(x) - H(x))}\} \\
    &= \max \{d(F(x), G(x)), d(G(x), H(x))\} \\
    &\leq d(F(x), G(x)) + d(G(x), H(x)).
  \end{align*}
\end{pro}
$F_m(x) = \sum_n a_n^{(m)} x^n$ Cauchyjevo zaporedje \\
$\forall k \exists M: \; M_1, M_2 \geq M \implies d(F_{M_1}(x), F_{M_2}(x)) < 2^{-k}$ \\
oz. $[x^n] F_{M_1} (x) = [x^n] F_{M_2} (x) \; \forall n \leq k$. \\
Torej za vsak $[x^n] F_n(x)$ konstantni od nekod naprej in enaki npr. $a_n$. \\
$F(x) = \sum_n a_n x^n$ je limita $(F_n(x))_m$.
\begin{ex} \text{} \\
  $(\sum_n x^n) (1-x) = 1$ \\
  $c_n = 1 \cdot (-1) + 1 \cdot 1 = 0 \; \forall n \geq 1$ \\
  $c_0 = 1$.
  Torej $\sum_n x^n = \frac{1}{1-x} \implies 1-x$ inverz od $\sum_n x^n$. \\
  $\lim_{N \to \infty} \sum_{n=0}^{N} x^n = \frac{1}{1-x}$. \\
  % dodaj tabelco
\end{ex}
\begin{rem}
  $(F_m(x))_m$ konvergira v $K[[x]]$, če je $([x^n] F_m(x))_m$ od nekod naprej konstantno, npr $a_n$;
  v tem primeru je $\lim_{m \to \infty} F_m(x) = \sum_n a_n x^n$.
\end{rem}


% 6. predavanje: 2.11.

Odvajanje: \\
$F^{'}(x) = \lim_{h \to 0} \frac{F(x+h) - F(x)}{h}$. \\
Za $K[[x]]:$ \\
$[x^n] F^{'}(x) := (n+1) [x^{n+1}] F(x)$ \\
$(\sum_n a_n x^n)^{'} = F(x)^{'} G(x) + F(x) G(x)^{'}$. \\
Dokaz: DN. \\
$\left(\frac{F(x)}{G(x)}\right)^{'} = \frac{F(x)^{'} G(x) - F(x) G(x)^{'}}{G(x)^2}; \; G(0) \neq 0$
\begin{ex} \text{} \\
  $F^{'}(x) = F(x)$ \\
  $(n+1) a_{n+1} = a_n$ \\
  $n a_n = a_{n-1}$ \\
  $a_0$ poljubno \\
  $a_n = \frac{a_0}{n!}$.
\end{ex}
$e^{\lambda x} := \sum_n \frac{\lambda^n}{n!} x^n$ \\
$e^{\lambda x} \cdot e^{\mu x} = e^{(\lambda + \mu) x}$ \\
$L = \sum_{k=0}^{n} \frac{\lambda^k}{k!} \frac{\mu^{n-k}}{(n-k)!} \stackrel{?}{=} \frac{(\lambda+\mu)^n}{n!} = D$. \\
Binomski izrek v $K$: enakost velja. \\
$F^{'}(x) = \frac{1}{1-x}, \; F(0) = 0$ \\
$(n+1) a_{n+1} = 1$ \\
$a_n = \frac{a_0}{n}$ \\
$\log \frac{1}{1-x} := \sum_{n=1}^{\infty} \frac{x^n}{n!}$ \\
$e^{\log \frac{1}{1-x}} \stackrel{?}{=} \frac{1}{1-x}$. \\
Najprej definicija kompozituma, dokaz enakosti kasneje. \\
Bolj splošno: \\
$F(0) = 1$ \\
$\log (F(x) G(x)) = \log F(x) + \log G(x)$: DN. \\
Binomska vrsta: \\
$\lambda \in K, n \in \N, \; \binom{\lambda}{n} := \frac{\lambda^{\underline{n}}}{n!}$ posplošen binomski koeficient. \\
$B_{\lambda}(x) = \sum_{n=0}^{\infty} \binom{\lambda}{n} x^n$ \\
$n \in \N: \; B_n(x) = \sum_{k=0}^{\infty} \binom{n}{k} x^n = (1+x)^n$. \\
\begin{claim} \text{} \\
  $B_{\lambda}(x) \cdot B_{\mu}(x) = B_{\lambda + \mu}(x)$.
\end{claim}
\begin{pro} \text{} \\
  $D = \frac{(\lambda + \mu)^{\underline{n}}}{n!} =
    \sum_{k=0}^{n}\frac{\lambda^{\underline{k}}}{k!} \frac{\mu^{\underline{n-k}}}{(n-k)!} = L$ \\
  $\sum_{k=0}^{n} \binom{n}{k} \lambda^{\underline{k}} \mu^{\underline{n-k}} = (\lambda + \mu)^{\underline{n}}$. \\
  Indukcija: DN.
\end{pro}
$B_{\lambda}(x) := (1+x)^{\lambda}$ \\
$n \in \N: \; B_n(x) \cdot B_{-n}(x) = 1$ \\
$(1+x)^{-n} = \frac{1}{(1+x)^n}$ \\
$(1+x)^{-n} = \sum_k \binom{-n}{k} x^n$ \\
\begin{align*}
  \binom{-n}{k} &= \frac{(-n) (-n-1) \dots (-n-k+1)}{k!} \\
  &= \frac{(-1)^k (n+k-1) \dots n}{k!} \cdot \frac{(n-1)!}{(n-1)!} \\
  &= (-1)^k \binom{n+k-1}{k-1}
\end{align*}
\begin{align*}
  (1-x)^{-k} &= \frac{1}{1-x} \dots \frac{1}{1-x} \\
  &= \sum_{n=0}^{\infty} \left(\sum_{n_i \geq 0, \sum n_i = k} 1 \right) x^n \\
  &= \sum_n (\text{število šibkih kompozicij } n \text{ s } k \text{ členi}) x^n \\
  &= \sum_n \binom{n+k-1}{k-1} x^n
\end{align*}
$F(x) G(x) H(x) = \sum_{n=0}^{\infty} \left(\sum_{n_1, n_2, n_3 \geq 0, n_1 + n_2 + n_3 = n} a_{n_1} b_{n_2} c_{n_3}\right) x^n$ \\
$\binom{-1}{n} = (-1)^n \binom{n}{0} = (-1)^n$ \\
$(1+x)^{\frac{1}{2}} = 1 + \sum_{n=1}^{\infty} \frac{(-1)^{n-1}}{2^{2n-1}} \binom{2n-2}{n-1} x^n$ \\
\begin{align*}
  \binom{\frac{1}{2}}{n} &= \frac{\frac{1}{2} \left(-\frac{1}{2}\right) \cdot \left(\frac{1}{2}-n+1\right)}{n!} \\
  &= \frac{(-1)^{n-1} (2n-3)!!}{2^n \cdot n!} \cdot \frac{(2n-2)!!}{(2n-2)!!} \\
  &= \frac{(-1)^{n-1} (2n-2)!}{2^n \cdot n! \cdot 2^{n-1} \cdot (n-1)!} \\
  &= \frac{(-1)^{n-1}}{2^{2n-1} n} \binom{2n-2}{n-1} \; n \geq 1.
\end{align*}


\section{Kompozitum}

$F(x) = \sum_n a_n x^n$ \\
$G(x) = \sum_n b_n x^n$ \\
$F \circ G(x) = F(G(x)) = ?$ \\
$(F \circ G)(x) = a_0 + a_1 G(x) + a_2 G^2(x) + \dots = \lim_{N \to \infty} \sum_{n=0}^{N} a_n G^n(x)$. \\
Kdaj ta limita obstaja?
\begin{claim}
  $(F_n(x))_n$. \\
  $\lim_{N \to \infty} F_n(x)$ obstaja $\iff \; \lim_{n \to \infty} v\left(F_n(x)\right) = \infty$.
\end{claim}
\begin{pro} \text{} \\
  $(\Longrightarrow):$
  \begin{align*}
    &\left(\sum_{n=0}^{N} F_n(x)\right)_N \text{ je Cauchyjevo}: \\
    &\forall x \; \exists N_0 \; \forall N,M \geq N_0: d\left(\sum_{n=0}^{N} F_n(x), \sum_{m=0}^{M} F_m(x)\right) \leq 2^{-k} \\
    &M = N-1: \; v\left(F_N(x)\right) \geq k.
  \end{align*}
  $(\Longleftarrow):$
  \begin{align*}
    &\forall k \exists N_0 \; \forall N \geq N_0: v\left(F_n(x)\right) \geq k \text{ (predpostavka)} \\
    N > M \geq N_0: &d\left(\sum_{n=0}^{N} F_n(x), \sum_{m=0}^{M} F_m(x)\right) \\
    &= 2^{-v(F_{M+1}(x) + \dots + F_N(x))} \\
    &\leq \max \{2^{-v(F_{M+1}(x))} \dots 2^{-v(F_N(x))}\} \\
    &\leq 2^{-k}.
  \end{align*}
\end{pro}
\begin{align*}
  F \circ G(x) \text{ obstaja } &\iff \lim_{n \to \infty} v\left(a_n G^n(x)\right) = \infty \\
  &\iff v(G(x)) > 0 \text{ ali } a_n = 0 \text{ od nekod naprej} \\
  &\iff F \text{ polinom ali } G(0) = 0.
\end{align*}
Velja $v\left(a_n G^n(x)\right) = \begin{cases}
  n \cdot v(G(x)) \; a_n \neq 0 \\
  \infty \qquad a_n = 0
\end{cases}$
\begin{ex} \text{} \\
  $F(x) = x^2 - 3x + 1$ \\
  $G(x) = e^x$ \\
  $(F \circ G)(x) = e^{2x} - 3e^x + 1$ - ok \\
  $F(x) = G(x) = e^x$ - ni ok \\
  $F(x) = e^x$ \\
  $G(x) = e^x - 1$ \\
  $e^{e^x-1}$ - ok.
\end{ex}
\begin{rem} \text{} \\
  $F(x) = \sum_n a_n x^n$ \\
  $G(x) = \sum_n b_n x^n \; b_0 = 0$ \\
  $a_0 + a_1(b_1 x + b_2 x^2 + \dots) + a_2(b_1 x + b_2 x^2 + \dots)^2 + \dots$ \\
  Za izračun koeficienta pri $x^5$ izračunamo končno vsoto. \\
  Enota za kompozitum: $x = 0 + 1 \cdot x + 0 \cdot x^2 + \dots$ \\
  $F \circ x = a_0 + a_1 x + a_2 x^2 + \dots = F = x \circ F = 1 \cdot (a_0 + a_1 x + \dots)$
\end{rem}
\begin{theorem} \text{} \\
  $F \in K[[x]]$ ima inverz za kompozitum $\iff$ $F(x) = a_0 + a_1 x; \; a_1 \neq 0$ ali $v(F(x)) = 1$.
\end{theorem}
\begin{ex} \text{} \\
  $x - x^2$ ima inverz, \\
  $e^x - 1$ ima inverz, \\
  $x^2$ nima inverza.
\end{ex}
$F^{<-1>}$ - inverz za kompozitum.
\begin{pro} \text{} \\
  $(\Longrightarrow)$:
  \begin{align*}
    &F(x) = \sum_n a_n x^n \\
    &G(x) = \sum_n b_n x^n \text{ inverz od }F \\
    &a_0 = 0 \stackrel{?}{\iff} b_0 = 0 \\
    (\Longleftarrow): &F \circ G = a_0 + a_1(b_1 x + \dots) + a_2(\dots)^2 + \dots \\
    &[x^0] F(G(x)) = a_0 = [x^0] x = 0 \\
    (\Longrightarrow): &\text{ isto?} \\
    &1. a_0 \neq 0, b_0 \neq 0 \\
    &\quad \implies F,G \text{ polinoma, } deg(F \circ g) = deg(F) \cdot deg(G) = 1 \\
    &\quad \implies deg(F) = deg(G) = 1 \\
    &2. a_0 = b_0 = 0 \\
    &\quad v(F \circ G) = v(F) \cdot v(G) = 1 \\
    &\quad \implies v(F) = v(G) = 1 \\
    &\quad \implies F(x) = a_1 x + a_2 x^2 + \dots \; a_1 \neq 0.
  \end{align*}
  $(\Longleftarrow)$:
  \begin{align*}
    &F(x) = a_0 + a_1 x \; a_1 \neq 0 \\
    &a_0 + a_1 y = x \implies y = \dots \\
    &F^{<-1>}(x) = -\frac{a_0}{a_1} + \frac{x}{a_1} \\
    &F(x) = a_1 x + a_2 x^2 + \dots a_1 \neq 0 \\
    &\text{levi inverz: } G_1(x) = b_0 + b_1 x + \dots \\
    &\quad G_1 \circ F = x \\
    &\quad b_0 + b_1 (a_1 x + \dots) + b_2 (a_1 x + \dots)^2 + \dots = x \\
    &\quad [x^0]: b_0 = 0 \\
    &\quad [x^1]: a_1 b_1 = 0 \implies b_1 = \frac{1}{a_1} \\
    &\quad [x^2]: b_1 a_2 + b_1 a_1^2 = 0 \implies b_2 = -\frac{b_1 a_2}{a_1^2} \\
    &\quad [x^3]: b_1 a_3 + 2 b_2 a_1 a_2 + b_3 a_1^3 = 0 \implies b_3 = \dots \frac{..}{a_1^3} \\
    &\quad [x^n]: \dots + b_n a_1^n = 0 \; n \geq 1\\
    &\quad b_n = \dots \text{ rekurzivno} \\
    &\text{desni inverz: } G_2(x) = c_0 + c_1 x + \dots, \; c_0 = 0 \\
    &\quad F \circ G_2 = x \\
    &\quad a_1 (c_1 x + \dots) + a_2 (c_1 x + \dots)^2 + \dots = x \\
    &\quad [x^0]: 0 = 0 \\
    &\quad [x^1]: a_1 c_1 = 1 \implies c_1 = \frac{1}{a_1} \\
    &\quad [x^2]: a_1 c_2 + a_2 c_1^2 = 0 \implies c_2 = -\frac{a_2 c_1^2}{a_1} \\
    &\quad [x^3]: a_1 c_3 + 2 a_2 c_1 c_2 + a_3 c_1^3 = 0 \implies c_3 = \frac{..}{a_1} \\
    &\quad [x^n]: a_1 c_n + \dots = 0 \implies c_n = \frac{..}{a_1}. \\
  \end{align*}
  \qed
\end{pro}
$(G_1 \circ F) \circ G_2 = G_2$ \\
$G_1 \circ (F \circ G_2) = G_1$. \\
Iz asociativnosti (ki je nismo dokazali) sledi $G_1 = G_2 = F^{<-1>}$.
\begin{claim} \text{} \\
  $F_n(0) = 0$ \\
  $\lim_{N \to \infty} \prod_{n=1}^{N} (1 + F_n(x))$ obstaja $\iff$ $\lim_{n \to \infty} v(F_n(x)) = \infty$. \\
  Dokaz DN.
\end{claim}
\begin{ex} \text{} \\
  $(1+x) (1+x) (1+x) \dots$ - ni ok, \\
  $(1+x) (1+x^2) (1+x^3) \dots$ - ok.
\end{ex}
\begin{rem} \text{} \\
  $K[[x]]$ \\
  $K[[x,y]] = K^{\N \times \N}$ \\
  $\sum a_{n,m} x^n y^m$ bivariantna potenčna vrsta. \\
  $\sum_{k,m} \binom{n}{k} x^k y^m = \sum_m (1+x)^n y^n = \frac{1}{1-(1+x)y}$. \\
  $K[[x_1, x_2 \dots]]$ \\
  $x_1 x_2^2 x_3 + x_2 x_3 + \dots$ - ok \\
  $x_1 x_2 x_3 x_4 \cdots$ - ni ok.
\end{rem}


\section{Reševanje linearnih rekurzivnih enačb s konstantnimi koeficienti}

\begin{ex} \text{} \\
  \begin{enumerate}[label=(\alph*)]
    \item $a_n = 2 a_{n-1} + 1 \; n \geq 1, a_0 = 1$ \\
      $1, 3, 7, 15 \dots$ \\
      $F(x) = \sum_n a_n x^n$ rodovna funkcija (angl. generating function) zaporedja.
      \begin{align*}
        &F(x) - 1 = \sum_{n=1}^{\infty} a_n x^n = \sum_{n=1}^{\infty} (2 a_{n-1} + 1) x^n = 2 x F(x) + \frac{x}{1-x} \\
        &F(x) (1-2x) = 1 + \frac{x}{1-x} = \frac{1}{1-x} \\
        &F(x) = \frac{1}{(1-x) (1-2x)}.
      \end{align*}
      Ekvivalentno:
      \begin{align*}
        &a_n = 2 a_{n-1} + 1 \quad / \cdot x^n \sum_{n=1}^{\infty} \\
        &F(x) - 1 = \frac{x}{1-x} + 2 x F(x) \\
        &F(x) = \frac{1}{(1-x) (1-2x)} = \frac{A}{1-x} + \frac{B}{1-2x} = \frac{A(1-2x) + B(1-x)}{(1-x) (1-2x)} \\
        &/ \cdot (1-x), x=1 \\
        &\frac{1}{-1} = A \implies A = -1 \\
        &/ \cdot (1-2x), x=\frac{1}{2} \\
        &B = 2
      \end{align*}
      $a_n = -1 + 2^{n+1}$.
    \item $F_n = F_{n-1} + F_{n-2} \; n \geq 2, F_0 = F_1 = 1 \quad / \cdot x^n \sum_{n=2}^{\infty}$
      \begin{align*}
        &F(x) = \sum_n F_n x^n \\
        &F(x) - 1 - x = x(F(x) - 1) + x^2 F(x) \\
        &F(x) = \frac{1}{1-x-x^2} = \frac{1}{(1-y_1x)(1-y_2x)}. \\
        &\text{Ničli } 1-x-x^2 \text{ sta } \frac{1}{y_1}, \frac{1}{y_2} \\
        &y_1, y_2 \text{ sta ničli } y^2-y-1 \text{ (obrnjen polinom), torej } x_1,x_2 = \frac{-1 \pm \sqrt{5}}{2}.
      \end{align*}
      V splošnem: \\
      $p(x) = c_0 + c_1 x + \dots + c_d x^d; \; c_d \neq 0$ \\
      ima ničle $\lambda_1 \dots \lambda_d$, ima \\
      $p^{\text{obr}}(x) = c_0 x^d + c_1 x^{d-1} + \dots + x_d$ (obrnjeni polinom) ničle $\frac{1}{\lambda_1} \dots \frac{1}{\lambda_d}$: \\
      \begin{align*}
        p^{\text{obr}}\left(\frac{1}{\lambda_i}\right) &=
          c_0 \cdot \frac{1}{\lambda_i^d} + c_1 \cdot \frac{1}{\lambda_i^{d-1}} + \dots + c_d \\
        &= \frac{c_0 + c_1 \lambda_i + \dots + c_d \lambda_i^d}{\lambda_i^d} = 0.
      \end{align*}
  \end{enumerate}
\end{ex}


%\clearpage
%\phantomsection

%\addcontentsline{toc}{chapter}{Literatura}
%\bibliography{../bibtex/literatura}
%\bibliographystyle{plainnat}


%\clearpage
%\phantomsection

%\chapter*{Dodatki}
%\addcontentsline{toc}{chapter}{Dodatki}
%D.




\end{document}
